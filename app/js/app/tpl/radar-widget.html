<div class="col-md-6">
	<div class="page-header">
		<h1>{{title}}</h1>
	</div>

	<div class="panel-body">

		<div class="panel panel-default" ng-repeat="type in radar.types.getTypes()">
			<div class="panel-heading">
				{{radar.types.getTypeTitle(type)}}
				
				<span class="glyphicon glyphicon-question-sign" aria-hidden="true"
					uib-tooltip="{{radar.types.getTypeDescription(type)}}"
					tooltip-placement="right"></span>
				<button class="pull-right btn btn-default btn-xs" type="button" 
						ng-click="openEditor(radar.newMarker(type))"
						ng-hide="!editable"
					>
					<span class="glyphicon glyphicon-plus" aria-hidden="true"></span>
				</button>
			</div>
			<div class="list-group item-list">
				<div ng-repeat="item in radar.markers"
						id="marker-{{item.idx}}-{{type}}"
						class="list-group-item"
						ng-click="radar.activateMarker(item)"
						ng-class="{focus:item.f, hover:item.h && !item.f}"
						ng-mouseenter="radar.enterHover(item)"
						ng-mouseleave="radar.exitHover(item)"
						ng-hide="item.model.type != type"
					>
						{{item.idx}}. {{item.model.title}}
						<span ng-hide="!item.model.new" class="badge">
							New
						</span>

					<div class="list-group-item-body" ng-hide="item !== radar.current">

						{{item.model.deg}} deg, {{item.model.mag}}<br />
						{{item.coord.x}}, {{item.coord.y}}<br />
						{{item.model.description}}
						<br />
						<a ui-sref="root.layout.quadrant.details({quadrant: quadrant, id: item.model.id})">More</a>

						<button class="pull-right btn btn-default btn-xs" type="button"
							ng-hide="!editable"
							ng-click="openEditor(item)">
							<span class="glyphicon glyphicon-pencil" aria-hidden="true"></span>
						</button><br />
					</div>
				</div>
			</div>
		</div>

	</div>
</div>

<div class="col-md-6"> 

	<div class="panel-body affix nav"> 
		<div id="quadrant-radar"> 
			<svg class="radar-wrapper theme-{{radar.graph.view}}"
					ng-attr-height="{{radar.graph.h}}"
					ng-attr-width="{{radar.graph.w}}"
					ng-click="radar.deactivateMarkers()"
				>
				
			
				<g class="graph-rings">
					<line ng-repeat="axis in radar.graph.axes" class="ring-axis" ng-attr-x1="{{axis[0]}}" ng-attr-y1="{{axis[1]}}" ng-attr-x2="{{axis[2]}}" ng-attr-y2="{{axis[3]}}" />
					<path ng-repeat="ring in radar.graph.rings.arcs" class="ring-arc" ng-attr-d="{{ring}}" />
					<path ng-repeat="ring in radar.graph.rings.fills" class="ring-fill" ng-attr-d="{{ring}}" />
				</g>

				<text class="number" text-anchor="middle" 
					ng-hide="radar.hideLabels"
					ng-repeat="label in radar.graph.labels"
					ng-attr-x="{{label.x}}" 
					ng-attr-y="{{label.y}}" dx="0" dy="0">
					{{label.title}}
				</text>
				
				<g class="legend marker">
					<circle ng-attr-cx="{{radar.graph.legend.x+10}}"
						ng-attr-cy="{{radar.graph.legend.y+10}}" 
						ng-attr-r="{{radar.markerRadius}}">
					</circle>
					<text ng-attr-text-anchor="{{radar.graph.legend.anchor}}" 
						ng-attr-x="{{radar.graph.legend.x}}"
						ng-attr-y="{{radar.graph.legend.y}}" 
						ng-attr-dx="{{radar.markerRadius+radar.graph.legend.dx}}"
						dy="15">
						No Change
					</text>
					<rect ng-attr-x="{{radar.graph.legend.x+10}}"
						ng-attr-y="{{radar.graph.legend.y+35}}" 
						ng-attr-width="{{radar.markerRadius*2}}"
						ng-attr-height="{{radar.markerRadius*2}}">
					</rect>
					<text ng-attr-text-anchor="{{radar.graph.legend.anchor}}" 
						ng-attr-x="{{radar.graph.legend.x}}"
						ng-attr-y="{{radar.graph.legend.y+25}}" 
						ng-attr-dx="{{radar.markerRadius+radar.graph.legend.dx}}"
						dy="15">
						New or Moved
					</text>
				</g>


				<g class="marker" ng-repeat="el in radar.markers" 
						my-draggable="{{el.idx}}"
						ng-click="radar.activateMarker(el); $event.stopPropagation();"
						ng-mouseenter="radar.enterHover(el)"
						ng-mouseleave="radar.exitHover(el)"
					>
						<!--scroll-on-click="{{el.idx}}-{{el.model.type}}"-->
					<circle ng-attr-cx="{{el.coord.x}}" ng-attr-cy="{{el.coord.y}}" 
							ng-attr-r="{{radar.markerRadius}}" 
							ng-class="{focus:el.f, hover:el.h && !el.f}"
							ng-hide="el.model.new"
							></circle>
					<rect ng-attr-x="{{el.coord.x}}" ng-attr-y="{{el.coord.y}}" 
							ng-attr-width="{{radar.markerRadius*2}}" 
							ng-attr-height="{{radar.markerRadius*2}}" 
							ng-class="{focus:el.f, hover:el.h && !el.f}"
							ng-hide="!el.model.new"
							></rect>
					<text class="number" text-anchor="middle" ng-attr-x="{{el.coord.x}}" ng-attr-y="{{el.coord.y}}" dx="0" dy="5">
						{{el.idx}}
					</text>
					<title>{{el.model.title}}</title>
				</g>
			</svg>

		</div>

		<div class="input-group pull-right">
			<label uib-tooltip="Edit">Edit</label>
			<input type="checkbox" ng-model="editable" />
			<button class="btn" type="button" ng-click="saveAll()">Save</button>
		</div>

	</div>
</div>
	



